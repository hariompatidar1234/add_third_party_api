c
n
c
d
c
n
c
n
c
where(provider: auth.provider, uid: auth.uid).firstc_or_create do |user|
where(provider: auth.provider, uid: auth.uid).first_or_create do |user|
n
c
n
sign_in_and_redirect user, event: :authentication
n
flash[:success] = t 'devise.omniauth_callbacks.success', kind: 'Google'
n
 sign_out_all_scopes
n
user.present?
n
Devise.friendly_token[0,20]
auth.uid
auth.provider
auth
c
continue
n
@user.present?
n
auth.uid
auth.provider
n
auth
c
n
@user.id += nil
@user.id != nil
@user.present?
n
User.from_omniauth(auth)
c
n
cartitem1.id
c
n
c
n
c
n
c
n
c
d
n
c
n
c
n
c
n
c
n
 @restaurant.dishes.new(dish_params)
n
@restaurant.owner == current_user
@restaurant
Restaurant.find_by_id(params[:restaurant_id])
n
c
n
@restaurant
c
n
c
n
@restaurant
n
@restaurant
n
dish_params.as_json
params
,params
dish_params
c
n
@restaurant.owner == current_user
@restaurant
n
c
n
c
n
c
n
c
current_user
@restaurant.owner
@restaurant.owner == current_user
@restaurant
n
c
@restaurant.owner == current_user
@restaurant
n
c
n
c
n
c
n
@restaurant.owner == current_user
@restaurant
n
c
@restaurant.owner == current_user
@restaurant && @restaurant.owner == current_user
@restaurant
n
params: {dish: dish_value }
params
dish
.dish
dish_value
params
,params
c
n
@restaurant.owner == current_user
@restaurant
n
c
params
,params
c
@restaurant.owner == current_user
n
@restaurant
c
n
c
dish
params
,params
c
n
dish
@dish
@restaurant
@restaurant.owner == current_user
n
c
n
c
n
,params
dish
params
,params
c
n
@restaurant
@restaurant.owner == current_user
   28:       @dish = @restaurant.dishes.new(dish_params)
n
dish
params
,params
c
@restaurant.owner == current_user
n
@restaurant
n
c
n
c
n
dish
params
,params
c
d
c
dish
params
,params
c
n
c
n
@restaurant
@restaurant.owner == current_user
n
c
n
params
n
c
n
dish_params
@restaurant.dishes
@dish
@restaurant.owner == current_user
@restaurant
n
c
n
current_user
@restaurant.owner
@restaurant.owner == current_user
@restaurant
n
c
@restaurant
n
@restaurant
n
c
n
current_user
@restaurant.owner
@restaurant.owner == current_user
@restaurant
n
c
n
@restaurant.owner == current_user
n
c
 current_user
@restaurant.owner
@restaurant.owner == current_user
n
c
n
@restaurant
c
n
dish_params
params
n
params
dish_params
@restaurant.dishes.new(dish_params)
@dish = @restaurant.dishes.new(dish_params)
current_user
@restaurant.owner
@restaurant
@restaurant.owner == current_user
n
c
params
@restaurant
@restaurant.owner == current_user
n
